zabbixServer:
  enabled: true
  replicaCount: 2   # backend HA

  haNodes:
    enabled: true   # Zabbix HA nativo

  image:
    repository: zabbix/zabbix-server-pgsql
    tag: 6.4-latest

  env:
    ZBX_HANODE_NAME: "{{ .Pod.Name }}"

  resources:
    requests:
      cpu: 300m
      memory: 1Gi
    limits:
      cpu: 2
      memory: 2Gi

# disabilitazione del DB interno - utilizzo di un database dedicato
postgresql:
  enabled: false

externalDatabase:
  type: postgresql
  host: postgres.zabbix.svc.cluster.local
  port: 5432
  user: zabbix
  password: zabbixpassword
  database: zabbix

service:
  type: ClusterIP
  port: 10051
